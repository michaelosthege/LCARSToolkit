<ContentControl
    x:Class="LCARSToolkit.Controls.Rectangle"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:lcars="clr-namespace:LCARSToolkit.Controls"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400"
    DataContext="{Binding RelativeSource={RelativeSource Self}}">
    <ContentControl.Template>
        <ControlTemplate TargetType="lcars:Rectangle">
            <Grid>
                <Rectangle Fill="{TemplateBinding Fill}" Height="{TemplateBinding ActualHeight}"/>
                <Rectangle Fill="#7F000000" Height="{TemplateBinding ActualHeight}" Visibility="{TemplateBinding MaskVisibility}"/>
                <ContentPresenter Margin="5,0"
                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                  Content="{TemplateBinding Content}"
                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
            </Grid>
        </ControlTemplate>
    </ContentControl.Template>
</ContentControl>
